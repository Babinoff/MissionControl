<div class="container">
	<div class="row">
		<div class="page-header">
			<h1>
				{{ vm.selectedProject.number }} {{ vm.selectedProject.name }}
				<a href="#/projects/configurations/{{ vm.selectedProject._id }}" style="padding:0;"><img src="images/parameter_32.png" height="32" width="32" style="margin-top:0;"></a>
				<a href="#/projects/healthreport/{{ vm.selectedProject._id }}" style="padding:0;"><img src="images/health_32.png" height="32" width="32" style="margin-top:0;"></a>
				<a href="#/projects/sheets/{{ vm.selectedProject._id }}" style="padding:0;"><img src="images/sheets_32.png" height="32" width="32" style="margin-top:0;"></a>
			</h1>
		</div>
	</div>
	<div class="row">
		<form name="form" class="css-form" novalidate>
			<div class="panel panel-default" style="margin-top:10px;">
				<div class="panel-heading">
					<h3 class="panel-title">Project Info</h3>
				</div>
				<div class="panel-body">
					<form class ="form-horizontal">
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formProjectNumber">
								Project Number
								<button class="fa-wrapper" ng-if="vm.selectedProject.number">
									<i class="fas fa-check fa-sm" style="color: green;"></i>
								</button>
								<button class="fa-wrapper" ng-if="!vm.selectedProject.number">
									<i class="fas fa-asterisk fa-sm" style="color: red;"></i>
								</button>
							</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" name="pNumber" class="form-control" id="formProjectNumber" placeholder="00.00000.00" ng-model="vm.selectedProject.number" required>
								<div ng-show="form.$submitted || form.pNumber.$touched">
									<div ng-show="form.pNumber.$error.required" class="text-danger">(*) Project Number is required.</div>
								</div>
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formProjectName">
								Project Name
								<button class="fa-wrapper" ng-if="vm.selectedProject.name">
									<i class="fas fa-check fa-sm" style="color: green;"></i>
								</button>
								<button class="fa-wrapper" ng-if="!vm.selectedProject.name">
									<i class="fas fa-asterisk fa-sm" style="color: red;"></i>
								</button>
							</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" name="pName" class="form-control" id="formProjectName" placeholder="Project Name" ng-model="vm.selectedProject.name" required>
								<div ng-show="form.$submitted || form.pName.$touched">
									<div ng-show="form.pName.$error.required" class="text-danger">(*) Project Name is required.</div>
								</div>
								<div ng-show="vm.selectedProject.name.length > 35">
									<div class="text-danger">(*) Project Name is too long.</div>
								</div>
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formOfficeSelect">
								Office
								<button class="fa-wrapper" ng-if="vm.selectedProject.office">
									<i class="fas fa-check fa-sm" style="color: green;"></i>
								</button>
								<button class="fa-wrapper" ng-if="!vm.selectedProject.office">
									<i class="fas fa-asterisk fa-sm" style="color: red;"></i>
								</button>
							</label>
							<div class="col-sm-9 no-padding-right">
								<div class="btn-group" style="width:100%;">
									<button class="btn btn-default dropdown-toggle scrollable-menu-left" data-toggle="dropdown">
										{{vm.selectedProject.office}}
										<span class="caret pull-right" style="margin-top: 8px; margin-bottom: 8px;"></span>
									</button>
									<ul class="dropdown-menu scrollable-menu-left">
										<li ng-repeat="office in vm.settings.offices" ng-if="office.name != 'All'">
											<a href="" ng-click="vm.setOffice(office)" class="no-padding-left no-padding-right">
												{{office.name}}
											</a>
										</li>
									</ul>
								</div>
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formStreet">Street Address</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" class="form-control" id="formStreet" placeholder="Street address, P.O. box, company name" ng-model="vm.selectedProject.address.street1">
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formStreet2">Street Address2</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" class="form-control" id="formStreet2" placeholder="Apartment, suite, unit, building, floor, etc." ng-model="vm.selectedProject.address.street2">
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formCity">City</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" class="form-control" id="formCity" ng-model="vm.selectedProject.address.city">
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formState">State</label>
							<div class="col-sm-9 no-padding-right">
								<select class="form-control" id="formState" ng-model="vm.selectedProject.address.state">
									<option value="AL">Alabama</option>
									<option value="AK">Alaska</option>
									<option value="AZ">Arizona</option>
									<option value="AR">Arkansas</option>
									<option value="CA">California</option>
									<option value="CO">Colorado</option>
									<option value="CT">Connecticut</option>
									<option value="DE">Delaware</option>
									<option value="DC">District Of Columbia</option>
									<option value="FL">Florida</option>
									<option value="GA">Georgia</option>
									<option value="HI">Hawaii</option>
									<option value="ID">Idaho</option>
									<option value="IL">Illinois</option>
									<option value="IN">Indiana</option>
									<option value="IA">Iowa</option>
									<option value="KS">Kansas</option>
									<option value="KY">Kentucky</option>
									<option value="LA">Louisiana</option>
									<option value="ME">Maine</option>
									<option value="MD">Maryland</option>
									<option value="MA">Massachusetts</option>
									<option value="MI">Michigan</option>
									<option value="MN">Minnesota</option>
									<option value="MS">Mississippi</option>
									<option value="MO">Missouri</option>
									<option value="MT">Montana</option>
									<option value="NE">Nebraska</option>
									<option value="NV">Nevada</option>
									<option value="NH">New Hampshire</option>
									<option value="NJ">New Jersey</option>
									<option value="NM">New Mexico</option>
									<option value="NY">New York</option>
									<option value="NC">North Carolina</option>
									<option value="ND">North Dakota</option>
									<option value="OH">Ohio</option>
									<option value="OK">Oklahoma</option>
									<option value="OR">Oregon</option>
									<option value="PA">Pennsylvania</option>
									<option value="RI">Rhode Island</option>
									<option value="SC">South Carolina</option>
									<option value="SD">South Dakota</option>
									<option value="TN">Tennessee</option>
									<option value="TX">Texas</option>
									<option value="UT">Utah</option>
									<option value="VT">Vermont</option>
									<option value="VA">Virginia</option>
									<option value="WA">Washington</option>
									<option value="WV">West Virginia</option>
									<option value="WI">Wisconsin</option>
									<option value="WY">Wyoming</option>
								</select>
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formZip">Zip Code</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" class="form-control" id="formZip" ng-model="vm.selectedProject.address.zipCode">
							</div>
						</fieldset>
						<fieldset class="form-group">
							<label class="control-label col-sm-3 text-right" style="margin-top: 8px;" for="formCountry">Country</label>
							<div class="col-sm-9 no-padding-right">
								<input type="text" class="form-control" id="formCountry" ng-model="vm.selectedProject.address.country">
							</div>
						</fieldset>
					</form>
					<button type="submit"
							class="btn btn-primary pull-right"
							ng-click="vm.updateProject()"
							ng-disabled="vm.verifyForm()">
						<i class="fas fa-check"></i>
						Update
					</button>
					<button class="btn btn-secondary pull-right"
							ng-click="vm.cancel()"
							style="margin-right: 10px;">
						Cancel
					</button>
				</div>
			</div>
		</form>
	</div>
	<div class="row">
		<div class="panel-group">
			<div class="panel panel-default">
				<div class="panel-heading">
					<div class="btn-group btn-group-xs pull-right" role="group" aria-hidden="true" ng-disabled="vm.loading">
						<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false" aria-haspopup="true">
							{{vm.selectedRange}}
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu dropdown-menu-right scrollable-menu" style="min-width: 50px;">
							<li ng-repeat="item in vm.availableRanges">
								<a href="" ng-click="vm.filterRange(item)">{{item}}</a>
							</li>
						</ul>
					</div>
					<p class="pull-right textAlignMiddle"><i class="fas fa-square" style="color: #759CC3;"></i> Synched</p>
					<p class="pull-right textAlignMiddle"><i class="fas fa-square" style="color: #4378A7;"></i> Opened</p>
					<h4 class="panel-title" style="padding-top: 5px;">
						Project Activity
					</h4>
				</div>
				<div class="panel-collapse">
					<div class="panel-body no-padding" ng-if="vm.chartData.length > 0">
						<d3-stacked-horizontal-bar-chart data="vm.chartData" margin-left="150" domain-padding="10"></d3-stacked-horizontal-bar-chart>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="panel-group">
			<div class="panel panel-default">
				<div class="panel-heading">
					<p class="pull-right">Unknown Opened: <strong>{{vm.unknownUserData.opened}}</strong>, Synched: <strong>{{vm.unknownUserData.synched}}</strong></p>
					<h4 class="panel-title" style="padding-top: 5px;">
						User Activity
					</h4>
				</div>
				<div class="panel-collapse">
					<div class="panel-body no-padding" ng-if="vm.userData.length > 0">
						<d3-stacked-horizontal-bar-chart data="vm.userData" margin-left="150" domain-padding="10"></d3-stacked-horizontal-bar-chart>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="panel-group">
			<div class="panel panel-danger">
				<div class="panel-heading">
					<h4 class="panel-title">Danger Zone</h4>
				</div>
				<div class="panel-collapse">
					<div class="panel-body">
						<form>
							<div class="form-group row" style="margin-bottom: 0;">
								<label class="col-sm-8" style="margin-top: 8px;">This button will delete this PROJECT and all related CONFIGURATIONS.</label>
								<div class="col-sm-4">
									<button type="submit" class="btn btn-danger pull-right" ng-click="vm.deleteProject()">
										<i class="fas fa-trash"></i>
										Delete
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
